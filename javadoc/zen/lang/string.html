<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=utf8">
<title>string</title>
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="string";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":9,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../zen/lang/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../index.html?zen/lang/string.html" target="_top">Frames</a></li>
<li><a href="string.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">zen.lang</div>
<h2 title="Class string" class="title">Class string</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>zen.lang.string</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">string</span>
extends java.lang.Object</pre>
<div class="block"><p> A string in its simplest form is just a "cookie".

 <p> <a name="contents"></a><b>0. Contents</b><br>
 <a href="#introduction">1. Introduction</a><br>
 <a href="#understanding">2. Understanding characters</a><br>
 <a href="#chars">3. Some Java "characters"</a><br>
 <a href="#about">4. More about Java's limitations and this class</a><br>
 <a href="#further">5. Further Reading</a><br>
 <a href="#clubrules">6. UTF-8 Club Rules</a><br>


 <p> <b>TLDR:</b><br>
 Use UTF-8 strings (byte[]) everywhere possible especially between different
 code bases and when communicating with filesystems, and as the always
 preferred file encoding format in text files.  Use indexing of the UTF-8
 string (byte[]) to speed up locating code points and graphemes within the
 string (Java doesn't do this, so we've work to do).<br>
 Refer <b><a href="http://utf8everywhere.org/">http://utf8everywhere.org/</a></b>

 <p>
 <ol>
    <li> UTF-8 strings can be safely scanned for ASCII characters (the 7-bit
    set) which includes all normal punctuation and in particular directory
    separators and path separators in all known operating systems.
    <li> UTF-8 is also self-synchronizing in the face of one or more missing
    bytes from the stream; only those characters with missing or corrupted
    bytes will be in error and all other characters are read correctly - this
    is not the case for example with UTF-16 encoded strings.
 </ol>

 <p> These two features alone (along with Unix and Linux compatibility) make
 UTF-8 the most desirable text encoding to use in almost all cases!


 <p> <a name="introduction"></a><b>1. <a href="#contents">Introduction</a></b>

 <p><b>A deficient string is any string not amenable to counting its
 characters</b>, i.e. "characters as the user perceives them" or "graphemes".

 <p> <code>java.lang.String</code> is a deficient string class, no more than a
 lowly cookie, incapable of counting the characters it stores for display, at
 least when it comes to Unicode text.

 <p> This class is the beginnings of a proper Java string class, which might
 be thought of as a UTF-8 encoded "grapheme string" - Java as of version 8.0
 only has APIs to work with Unicode code points (codepoints) and not "visual
 or displayed characters" such as those with multiple accents (Unicode
 "combining characters").  Surprised? I was, thus this class.

 <p> The term "UTF-8 grapheme string" is a misnomer since UTF-8 defines a byte
 sequence encoding of Unicode/UCS code points which include graphemes as well
 as non-graphemes.

 <p> One or more (thankfully only adjacent) Unicode code points may constitute
 a grapheme.

 <p> Cover your ears, I'm about to shout.  This string class simplifies
 working with THE THING WE OFTEN NEED OUTSIDE OF THE STRING ITSELF, that is
 graphemes.  Graphemes are those things a user perceives visually as a
 character or "single letter" for the purposes of cursor movement, deletion,
 insertion, selection, cutting and pasting.

 <p> <b>This class' current limitations are due to relying upon <code>java.text.BreakIterator</code> and its <code>getCharacterInstance(Locale)</code> method,
 which only provides Unicode code point breaks and not "visual" character
 (grapheme) breaks.</b>

 <p> <b>Java as of version 8.0 does not provide Character methods such as
 isCombiningCharacter(codepoint) nor isUnicodeControlCharacter(codepoint);
 TODO - try using icu4j instead</b>

 <p> For comparison to Java, see
 <a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/StringsAndCharacters.html">
 Swift's Strings and Characters</a>, which is much younger, better and
 certainly has advantage of the benefit of hindsight. Also Perl 6 seems to be
 getting closer to competency as well, see
 <a href="http://www.cattlegrid.info/blog/2014/12/graphemes-code-points-characters-and-bytes.html">
 Graphemes, code points, characters and bytes</a>.


 <p> <a name="understanding"></a><b>2. <a href="#contents">Understanding
 Characters</a></b>

 <p>
 <ol>
    <li> Programming language <b>types</b> such as <code>char</code>, <code>byte[]</code> and <code>int</code> store arbitrary values.  In a program such values
    may for example have context specific meaning such as a mapping to ASCII
    characters, Unicode code points or to Unicode UTF-16 surrogate halves
    ("paired 16 bit code units" halves, <a href="#surrogates">see below</a>)
    or even to graphemes, grapheme clusters, glyphs or any sequence of such or
    other things.

    <li> The <b>Unicode</b> <a href="http://unicode.org/">standard</a>
    specifies Unicode code points, various
    code point encodings, encoding specific storage 'code units' and code unit
    sequences (how code points are represented in an encoding), combining
    characters and their normalization forms, the optional byte order mark
    (BOM), how sequences of code points map (algorithmically) to graphemes and
    more.

    <li> A Unicode <b>code point</b> is <a
    href="http://unicode.org/glossary/#code_point">Any value in the Unicode
    codespace</a>. It represents one of a number of things,
    including characters of the world's languages/ scripts, Unicode control
    characters, the BOM, specials (I'm sure they are), locals, combining
    characters and more, see <a
    href="http://unicode.org/glossary/#code_point_type">code point type</a>.

    <li> Code points are not graphemes though some code points map to
    graphemes depending on their context in a code point sequence.

    <li> Code points were originally defined to be 31 bits but since ISO
    10646-2 in 2001 are promised to be at most 21 bits in size in the future,
    the consequence being all code points will be representable in a UTF-8
    byte stream with at most 4 bytes (4 * 8-bits).

    <li> A Unicode <b>combining character</b> sometimes called
    <a href="http://unicode.org/glossary/#combining_character">combining
    mark</a> modifies another character;
    examples include the diacritical marks, International Phonetic Alphabet
    (IPA) symbols, IPA diacritics, the combining graphene joiner, double
    diacritics which are combined with (and are placed across) two characters,
    and more.  Multiple combinations of combining characters are valid to use
    in sequence.
    See Unicode's <a href="http://unicode.org/faq/char_combmark.html">
    Characters and Combining Marks</a>.

    <li> A Unicode <b>grapheme</b> represents a <a
    href="http://unicode.org/glossary/#grapheme">user perceived character</a>
    which the user might move over with a text cursor using a "single
    character" cursor movement or might delete with a single press of the
    <code>&lt;BACKSPACE&gt;</code> or <code>&lt;DELETE&gt;</code> key.

    <li> A <a href="http://unicode.org/glossary/#grapheme_cluster"><b>grapheme
    cluster</b></a> is the ideal way to represent "characters as the user
    perceives them" and we who had enjoyed Java's hegemony pine with grief at
    <a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/StringsAndCharacters.html#//apple_ref/doc/uid/TP40014097-CH7-ID296">
    Swift's competency</a> in this regard.

    <li> At the time of typing this, the author is unable to clearly
    differentiate between graphemes and grapheme clusters.

    <li> A grapheme is represented by a sequence of one or more code points,
    such as <code>LATIN CAPITAL LETTER A</code> (<code>U+0041</code>, "A") followed by
    <code>COMBINING ACUTE ACCENT</code> (<code>U+0301</code>, " ́" - this may not display
    as one might expect).

    <li> Some letter with combining character combinations are also included
    as single code points, such as <code>LATIN CAPITAL LETTER A WITH ACUTE</code>
    (<code>U+00C1</code>, "Á").

    <li> So some code points do not constitute and or are not part of the
    representation of any grapheme.

    <li> <a href="http://www.unicode.org/versions/Unicode7.0.0/ch03.pdf#G49537">
    Unicode specifies</a> various
    <a href="http://unicode.org/glossary/#normalization"><b>nomalization</b></a>
    forms where combining characters are used where possible or avoided where
    possible, in a code point stream; this can provide for binary equivalence
    comparison.
    See also <code>java.text.Normalizer</code>.

    <li> A <a href="http://unicode.org/glossary/#glyph"><b>glyph</b></a> is an
    element of a font which is displayed to the user within a textual or
    graphical display environment.

    <li> One or more glyphs may be needed to correctly display a single
    grapheme, for example with a glyph corresponding to a combining character
    (represented by one code point) where the combining character follows and
    is intended to be overlayed visually with ("combined" with) the preceeding
    one or two characters (each represented by their own code points) in the
    code point sequence.

    <li> A <b>font</b> specifies how graphemes, or visual characters as
    defined by some other standard, map to glyphs.  Only some fonts include
    glyphs for all displayable code points.  Only some font engines or display
    environments support combining characters.

    <li> A <b>Java <code>char</code></b> is not a grapheme, but some graphemes can
    be represented in a <code>char</code> instance or "variable".

    <li><a name="surrogates"></a> A Java <code>char</code> is not even a code
    point, although:<br>
    a) it can represent some code points namely those in the Unicode
    <b>BMP</b> or "basic multilingual plane" which is the first <a
    href="http://unicode.org/glossary/#BMP_character">16-bit group</a> or
    Unicode "plane" of code points, and<br>
    b) it can also hold UTF-16 surrogate code point halves
    ("<b>surrogates</b>") for those code points outside the BMP.<br>
    If you're not impressed with Java's <code>char</code>s, neither am I - they're
    not very impressive at all.  <code>byte</code> - now there's a powerful type!

    <li> A <a href="http://unicode.org/glossary/#surrogate_pair">well
    formed</a> <b>surrogate</b> is one half of a "paired 16 bit code units"
    code point, whereas an ill formed surrogate is <em>unpaired</em>, i.e.
    without its matching half, and is an error condition.<br>
    Refer the Unicode FAQ
    <a href="http://unicode.org/faq/utf_bom.html#utf16-2">What are
    surrogates?</a> and
    <a href="http://unicode.org/faq/utf_bom.html#utf8-5">How do I convert an
    unpaired UTF-16 surrogate to UTF-8?</a>

    <li> A Unicode <a
    href="http://unicode.org/glossary/#character_encoding_scheme"><b>encoding</b>
    scheme</a> defines a bit format for storing, transmitting or otherwise
    representing code points in a digital medium.

    <li> Encodings encode <a
    href="http://unicode.org/glossary/#code_point">code points</a> into a
    sequence of one or more Unicode <b>code units</b>.  A <a
    href="http://unicode.org/glossary/#code_unit">code unit</a> is a "storage
    unit" (8, 16 or 32 bit value) in an encoding.  Code unit format and
    sequencing are specific to an encoding.

    <li> Unicode encodings include for example <a
    href="http://unicode.org/glossary/#UTF_8"><b>UTF-8</b></a>, <a
    href="http://unicode.org/glossary/#UTF_16LE">UTF-16LE</a> and <a
    href="http://unicode.org/glossary/#UTF_32">UTF-32</a>.  Some encodings
    cannot normally represent all unicode code points, for example <a
    href="http://unicode.org/glossary/#ASCII">ASCII</a>.
    UTF-8 can represent all code points.

    <li> Due to endian issues, anything other than UTF-8 is not self
    describing without a <b>BOM</b> or <a
    href="http://unicode.org/glossary/#byte_order_mark"><b>byte order
    mark</b></a> also known originally as "zero-width non-breaking space"
    (this whitespace usage is still valid but since deprecated in Unicode 3.2
    oh happy joy).  The BOM <a
    href="http://utf8everywhere.org/#faq.boms">messes up</a> UTF-8 data
    streams where it's not expected or not otherwise handled correctly and the
    joy only increases.

    <li> So <a href="http://utf8everywhere.org/#faq.boms">where at all
    possible</a> in UTF-8 streams (which we should almost always be using)
    <b>never use a BOM</b>.

    <li> In Java e.g. at <code>java.lang.String#codePointAt(index)</code> the index
    points at a char value which the javadoc names as a "Unicode code unit".
    Beware as <b>this is neither a code point, character, grapheme nor
    glyph</b> - nothing but a lowly, miserably little char!  "Code unit" as
    used here in Java is just a fancy name for "I'm so damn cool I can spel
    UTF-16BE BMP code point in a char and UTF-16LE non-BMP code point
    surrogate half "code unit" in a char take that! Haha try and figure out
    which."  Resist the temptation to figure out the riddle.  Don't be fooled
    friends - it's useless for anything much at all except reminding us what a
    bad design decision Java's <code>String</code> class was (in hindsight).

    <li> Next, <code>java.text.BreakIterator#getCharacterInstance(Locale)</code>
    returns break indices for (Unicode) code point boundaries and not for
    graphemes, characters, glyphs, chars or anything useful really.  This
    iterator, better than nothing I guess, is merely a code point
    surrogate-pair extractor for Java's UTF-16 strings, slapping all comers in
    the face with its irreverent disregard for invisibles, controls, specials,
    even combining characters and in fact anything remotely resembling
    graphemes, let alone those hallowed unreachable glyphs!  The use of the
    term "character" in this method's name is both misleading and wildly
    overloaded and horrendously overrated, especially in Java context!

    <li> But wait it gets better - if you want to determine graphemes (let's
    not even talk about glyphs), nope that can't be done (at least as at Java
    8).

    <li> Java's <b>String</b> class ostensibly stores a UTF-16 encoded code
    point sequence in a <code>char[]</code>.  There is nothing in principle
    stopping a UTF-8 byte[] implementation (which is evidently indicated in
    the hindsight of history) and this ought be nothing more than a piddly
    implementation detail, notwithstanding any legacy yet-to-be-converted
    API's and their snivelling performance issues - which would likely act as
    a rather practical and motivating todo list.  Righto - let's get cracking
    then shall we?  In the meantime, without handling graphemes, <code>java.lang.String</code> defeats its own purpose surprisingly well.

    <li> Finally to highlight unequivocally the problems we programmers face,
    some graphemes are normally displayed using <b>wide glyphs</b>, some
    normally with <b>narrow glyphs</b> and others still can be either,
    according to the font designer's æsthetic vehemence (ok, ok, "or lack
    thereof" - happy?).

    <li> In conclusion the appearance of a <b>displayed grapheme</b> (and in
    particular for programs targetting a text based environment) depends on
    the particular textual or graphical environment in use including the
    specific font and the characteristics of the grapheme's corresponding
    glyph (or combination of glyphs) in the font, being used in the
    environment to display that grapheme.<br>
    <b>For example</b> an <code>xterm</code> terminal is a textual display
    environment in which Java provides no API for determining glyph widths and
    we can't even determine grapheme boundaries yet - Java evidently has a way
    to go on the basic text processing front.<br>
    In Java we need to get to first base - determining the graphemes in a
    string!  Java just manages to figure out single code points but peters out
    before anything useful to users.

 </ol>


 <p> <a name="chars"></a><b>3. <a href="#contents">Some Java "Characters"</a></b>

 <p> Some of the "character" concepts a Java programmer may have to handle
 with JNI or otherwise:

 <ol>
    <li> 7-bit ASCII characters.
    <li> Java's <code>char</code> type or "native character" which as we now know
    can only store a BMP code point or UTF-16 code point surrogate half.
    <li> Unicode UTF-8 "code units" (8 bit values).
    <li> Unicode UTF-16 BMP code point code units (16 bit values), mildly
    analogous to ASCII values.
    <li> Unicode UTF-16 code point surrogate halves (code units).
    <li> Unicode UTF-32 code point code units.
    <li> C and C++ types <code>char</code>, <code>byte</code>, <code>int</code>, <code>wchar_t</code>, <code>char16_t</code>, <code>char32_t</code>, <code>wint_t</code> and more
    still.
    <li> Unicode code points as represented in a Java <code>int</code>.
    <li> Unicode code points as represented in a Java <code>char[]</code> of length
    1 or 2.
    <li> Unicode code points as distinguished by <code>char</code> boundaries as
    returned by <code>BreakIterator.getCharacterInstance(Locale)#next()</code>.
    <li> Unicode non character code points such as control characters, which
    must be avoided when needing to work with graphemes.
    <li> <b>Graphemes</b> or Unicode code point sequences which correspond to
    user perceived characters - good luck with that.
    <li> <b>Glyphs</b> or those elements of a font which correspond in some
    way to code points and can be combined to display a representation of
    graphemes and are displayed to a user in a textual and or graphical
    display environment.
 </ol>


 <p> <a name="about"></a><b>4. <a href="#contents">More about Java's
 limitations and this class</a></b>

 <p> This Java class is an "alternative string" rough draft.
 There's plenty it does not (yet) do which needs to be done, although the
 first step of understanding the problem has hopefully been contributed to
 with the documentation here.

 <p> Certainly this class ought be built on something like java.nio.ByteBuffer
 or a byte[] (which it is not currently).

 <p> Information about the "current" width of "ordinarily wide" and "possibly
 wide" and even "in the current font, unexpectedly wide" graphemes,
 determination of grapheme boundaries and more is yet to be implemented.

 <p> For starters some API is needed for textual display environments to
 access the width of each glyph in the current environment, notification of
 environment changes (such as a new font being applied to the environment) so
 that glyph width or other calculations can be redone if needed, and to what
 extent the current environment supports combining, potentially wide and other
 interesting characters.

 <p> Glyph widths might for example in a text environment be in some suitable
 environment units, with 'normal' characters being width 1 and 'wide'
 characters being width 2.  This is presently an exercise for the excessively
 curious and diligent.

 <p> Note: There's no point being upset with Java's UTF-16 String class and
 char primitive, since at the time these were chosen for Java, it was
 erroneously believed by those making that choice that 16 bits would be enough
 to encode all the world's characters and therefore "should be enough for
 anyone, even a programming language."<br>
 BUT, there IS a point in complaining that once Java 1.0 was released, and
 prior to Java 1.1 being released, that Java should have had a serious String
 enhancement plan of action, due to the fundamental change in Unicode, which
 Java has forever been fundamentally incompatible with (practically, as in for
 regular day to day programming, or anything other than herculean efforts on
 behalf of the programmer anyway). Swift gets it right whilst Java's 20 years
 late to the party.

 <p> <b>WARNING</b>: Java's <a
 href="https://docs.oracle.com/javase/6/docs/api/java/io/DataInput.html">current
 usage</a> of <a
 href="http://stackoverflow.com/questions/7921016/what-does-it-mean-to-say-java-modified-utf-8-encoding">bastadardized
 UTF-8</a> ("<a
 href="http://en.wikipedia.org/wiki/UTF-8#Modified_UTF-8">modified UTF-8</a>")
 in some cases such as JNI <a
 href="http://banachowski.com/deprogramming/2012/02/working-around-jni-utf-8-strings/">ought
 be eliminated</a>, <a
 href="https://wikigurus.com/Article/Show/199390/Java-modified-UTF-8-strings-in-Python">removed</a>,
 <a
 href="https://www.securecoding.cert.org/confluence/display/java/JNI04-J.+Do+not+assume+that+Java+strings+are+null-terminated">stopped</a>,
 <a
 href="http://bitbrothers.org/blog/2013/08/jni-strings-modified-utf8-oh-my/">stamped
 out and completely extricated</a> from a future version of Java.  Bring on
 the deprecations.

 <p> Note: It is probably in the interests of the Java language to have a class
 possibly similar to this one as a "new string" type perhaps named <code>java.lang.string</code> (note the lower case s in string).  Such strings should be
 stored in UTF-8 byte arrays as canonical storage format and may require some
 language (read, compiler) support for auto casting or more.

 <p> Or it may be that the best approach is to simply replace Java's String
 class (and any and all dependent library APIs) so that it is built on a
 "sane" UTF-8 encoded byte[] and deprecate all API (in all the Java libraries)
 that violate this assumption for "performance" or any other grounds.

 <p>It is now self evident that Java's char type is actually not relevant and
 not particularly useful outside of Java String's deformed birth due to the
 false assumptions made when a Java class named String was impregnated with
 chars.

 <p> In hindsight if char is for programming convenience, what might be more
 useful is a grapheme type say a UTF-8 <code>byte[]</code> or a
 code point <code>int[]</code>, perhaps with language support to cast to and from a
 "new string".  Until this is tidied up in Java we unfortunately have a bit of
 a mess on the string front and nothing even approaching a sexy Grapheme
 String; I can't help wondering how such a verbose name as
 java.lang.GraphemeString might be shortened.  This class started out named
 "Graphemes" until it became obvious it's just a "sane string".

 <p> There are plenty api thoughts to think and some questions are in the code
 comments below in this class.  Definitive answers would be nice.
 <b>Swift appears to get it basically right.</b>

 <p> In case it was unclear note also that string literals as they appear in
 <b>source files</b> are in the charset/encoding of the source file itself,
 whatever that happens to be (of course we do <a
 href="http://utf8everywhere.org/">insist on UTF-8</a>).


 <p> <a name="further"></a><b>5. <a href="#contents">Further reading</a></b>

 <p> For further information see the following:

 <p> <ul>
    <li> <a href="http://utf8everywhere.org/">http://utf8everywhere.org/</a> - UTF-8. And why.
    <li> <a href="http://unicode.org/glossary/">http://unicode.org/glossary/</a> - Unicode Glossary
    <li> <a href="http://unicode.org/reports/tr15/">http://unicode.org/reports/tr15/</a> - Unicode normalization forms.
    <li> <a href="http://unicode.org/faq/utf_bom.html#utf16-2">http://unicode.org/faq/utf_bom.html#utf16-2</a> - Unicode, What are surrogates?
    <li> <a href="http://unicode.org/faq/utf_bom.html#utf8-5">http://unicode.org/faq/utf_bom.html#utf8-5</a> - Unicode, How do I convert an unpaired UTF-16 surrogate to UTF-8?
    <li> <a href="http://www.oracle.com/us/technologies/java/supplementary-142654.html">http://www.oracle.com/us/technologies/java/supplementary-142654.html</a> - Supplementary Characters in the Java Platform
    <li> <a href="http://userguide.icu-project.org/">http://userguide.icu-project.org/</a> - Introduction to ICU
    <li> <a href="http://en.wikipedia.org/wiki/Unicode">http://en.wikipedia.org/wiki/Unicode</a>
    <li> <a href="http://en.wikipedia.org/wiki/Combining_character">http://en.wikipedia.org/wiki/Combining_character</a>
    <li> <a href="http://en.wikipedia.org/wiki/Diacritics">http://en.wikipedia.org/wiki/Diacritics</a>
    <li> <a href="http://en.wikipedia.org/wiki/Specials_(Unicode_block)">http://en.wikipedia.org/wiki/Specials_(Unicode_block)</a>
    <li> <a href="http://en.wikipedia.org/wiki/Unicode_control_characters">http://en.wikipedia.org/wiki/Unicode_control_characters</a>
    <li> <a href="http://en.wikipedia.org/wiki/Byte_order_mark">http://en.wikipedia.org/wiki/Byte_order_mark</a>
    <li> <a href="http://unicode.org/faq/char_combmark.html">http://unicode.org/faq/char_combmark.html</a> - Characters and Combining Marks
    <li> <a href="http://unicode.org/cldr/utility/character.jsp?a=0301">http://unicode.org/cldr/utility/character.jsp?a=0301</a> - Unicode character property viewer
    <li> <a href="http://www.regular-expressions.info/unicode.html">http://www.regular-expressions.info/unicode.html</a> - Unicode Regular Expressions
    <li> <a href="http://stackoverflow.com/questions/3956734/why-does-the-java-char-primitive-take-up-2-bytes-of-memory">http://stackoverflow.com/questions/3956734/why-does-the-java-char-primitive-take-up-2-bytes-of-memory</a>
    <li> <a href="http://www.cl.cam.ac.uk/~mgk25/unicode.html">http://www.cl.cam.ac.uk/~mgk25/unicode.html</a> - UTF-8 and Unicode FAQ for Unix/Linux
    <li> <a href="http://unix.stackexchange.com/questions/139493/how-can-i-make-unicode-symbols-and-truetype-fonts-work-in-xterm-uxterm">http://unix.stackexchange.com/questions/139493/how-can-i-make-unicode-symbols-and-truetype-fonts-work-in-xterm-uxterm</a>
    <li> <a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/StringsAndCharacters.html">https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/StringsAndCharacters.html</a> - Swift
    <li> <a href="http://www.cattlegrid.info/blog/2014/12/graphemes-code-points-characters-and-bytes.html">http://www.cattlegrid.info/blog/2014/12/graphemes-code-points-characters-and-bytes.html</a> - Perl 6
    <li> <a href="http://illegalargumentexception.blogspot.co.nz/2009/05/java-rough-guide-to-character-encoding.html">http://illegalargumentexception.blogspot.co.nz/2009/05/java-rough-guide-to-character-encoding.html</a> - Java, fails to properly determine visible graphemes from combining chars etc.
    <li> <a href="http://stackoverflow.com/questions/6828076/how-to-correctly-compute-the-length-of-a-string-in-java">http://stackoverflow.com/questions/6828076/how-to-correctly-compute-the-length-of-a-string-in-java</a> - Java
    <li> <a href="https://docs.oracle.com/javase/tutorial/i18n/text/boundaryintro.html">https://docs.oracle.com/javase/tutorial/i18n/text/boundaryintro.html</a> - still more limited Java
 </ul>


 <p> <a name="clubrules"></a><b>6. <a href="#contents">UTF-8 Club Rules</a></b>

 <p> <b>Rule 1.</b> UTF-8 is the only charset encoding.
 <br><b>Rule 2.</b> See rule 1.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>java.nio.charset.StandardCharsets</code>, 
<code>java.text.BreakIterator</code>, 
<code>java.text.Normalizer</code>, 
<code>java.util.Locale</code></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#string--">string</a></span>()</code>
<div class="block">Create an empty string.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#string-java.lang.Object-">string</a></span>(java.lang.Object&nbsp;text)</code>
<div class="block">Initialize a new string using <code>text</code> and default locale.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#string-java.lang.Object-java.util.Locale-">string</a></span>(java.lang.Object&nbsp;text,
      java.util.Locale&nbsp;locale)</code>
<div class="block">Initialize a new string using <code>text</code> and <code>locale</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#appendCodePointsTo-java.lang.StringBuilder-int-int-">appendCodePointsTo</a></span>(java.lang.StringBuilder&nbsp;sb,
                  int&nbsp;cpistart,
                  int&nbsp;cpiend)</code>
<div class="block">Append code points in the range <code>(cpistart, cpiend)</code> into <code>sb</code>;  <code>cpistart</code> may be less than <code>cpiend</code> in which case the
 code points are appended in reverse order.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#appendGraphemesTo-int-java.lang.StringBuilder-">appendGraphemesTo</a></span>(int&nbsp;flags,
                 java.lang.StringBuilder&nbsp;sb)</code>
<div class="block">Append all graphemes to <code>sb</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#appendGraphemesTo-int-java.lang.StringBuilder-int-int-">appendGraphemesTo</a></span>(int&nbsp;flags,
                 java.lang.StringBuilder&nbsp;sb,
                 int&nbsp;gistart,
                 int&nbsp;giend)</code>
<div class="block">Not implemented yet; throws UnsupportedOperationException.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#appendTo-java.lang.Object-">appendTo</a></span>(java.lang.Object&nbsp;bb)</code>
<div class="block">Appends all of this string to a ByteBuilder (such class does not yet
 exist).</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#appendTo-java.lang.StringBuilder-">appendTo</a></span>(java.lang.StringBuilder&nbsp;sb)</code>
<div class="block">Appends all of this string to a StringBuilder.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#codePointsToBytes-int-">codePointsToBytes</a></span>(int&nbsp;cpindex)</code>
<div class="block">Returns a byte[] containing the chosen code point encoded as UTF-8.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#codePointsToBytes-int-int-">codePointsToBytes</a></span>(int&nbsp;cpistart,
                 int&nbsp;cpiend)</code>
<div class="block">Returns a byte[] containing the chosen code points encoded as UTF-8.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>char[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#codePointsToChars-int-int-">codePointsToChars</a></span>(int&nbsp;cpistart,
                 int&nbsp;cpiend)</code>
<div class="block">Returns a UTF-16 encoded char[] range (reversible) of code points.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#codePointsToInts--">codePointsToInts</a></span>()</code>
<div class="block">Returns this string as code points in an int[].</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#codePointsToInts-int-int-">codePointsToInts</a></span>(int&nbsp;cpistart,
                int&nbsp;cpiend)</code>
<div class="block">Returns the code points in the range <code>(cpistart, cpiend)</code>.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>char[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#codePointToChars-int-">codePointToChars</a></span>(int&nbsp;cpindex)</code>
<div class="block">Returns a UTF-16 encoded char[] of the code point at <code>cpindex</code>.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#codePointToInt-int-">codePointToInt</a></span>(int&nbsp;cpindex)</code>
<div class="block">Returns the code point at <code>cpindex</code>.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#countCodePoints--">countCodePoints</a></span>()</code>
<div class="block">Returns the number of unicode code points in this string.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#countGraphemes-int-">countGraphemes</a></span>(int&nbsp;flags)</code>
<div class="block">Returns the number of graphemes in this string;
 Not implemented yet; throws UnsupportedOperationException.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#countUTF16Units--">countUTF16Units</a></span>()</code>
<div class="block">Count the number of Unicode UTF-16 code units required to UTF-16 encode
 this string.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#countUTF8Units--">countUTF8Units</a></span>()</code>
<div class="block">Count the number of Unicode UTF-8 code units required to UTF-8 encode this
 string.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#getCodePointUTF16Indices--">getCodePointUTF16Indices</a></span>()</code>
<div class="block">Returns the grapheme boundary cpcindices into the utf-16 char[] used
 internally; this array of indices is used internally.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#graphemesToBytes-int-int-">graphemesToBytes</a></span>(int&nbsp;flags,
                int&nbsp;gindex)</code>
<div class="block">Not implemented yet; throws UnsupportedOperationException.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#graphemesToBytes-int-int-int-">graphemesToBytes</a></span>(int&nbsp;flags,
                int&nbsp;gistart,
                int&nbsp;giend)</code>
<div class="block">Not implemented yet; throws UnsupportedOperationException.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>char[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#graphemesToChars-int-int-">graphemesToChars</a></span>(int&nbsp;flags,
                int&nbsp;gindex)</code>
<div class="block">Returns a char[] containing the chosen grapheme encoded as UTF-16.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>char[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#graphemesToChars-int-int-int-">graphemesToChars</a></span>(int&nbsp;flags,
                int&nbsp;gistart,
                int&nbsp;giend)</code>
<div class="block">Not implemented yet; throws UnsupportedOperationException.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#hasBOM--">hasBOM</a></span>()</code>
<div class="block">Returns true if this string contains one or more Unicode "Byte Order Mark"
 characters;
 Not implemented yet; throws UnsupportedOperationException.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#hasStartingBOM--">hasStartingBOM</a></span>()</code>
<div class="block">Returns true if this string starts with the Unicode "Byte Order Mark"
 character;
 Not implemented yet; throws UnsupportedOperationException.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#insertCodePointsInto-int-java.lang.StringBuilder-int-int-">insertCodePointsInto</a></span>(int&nbsp;sbdest,
                    java.lang.StringBuilder&nbsp;sb,
                    int&nbsp;cpistart,
                    int&nbsp;cpiend)</code>
<div class="block">Inserts a range (reversible) of code points into a StringBuilder.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#insertGraphemesInto-int-int-java.lang.StringBuilder-">insertGraphemesInto</a></span>(int&nbsp;flags,
                   int&nbsp;sbdest,
                   java.lang.StringBuilder&nbsp;sb)</code>
<div class="block">Insert graphemes into sb.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#insertGraphemesInto-int-int-java.lang.StringBuilder-int-int-">insertGraphemesInto</a></span>(int&nbsp;flags,
                   int&nbsp;sbdest,
                   java.lang.StringBuilder&nbsp;sb,
                   int&nbsp;gistart,
                   int&nbsp;giend)</code>
<div class="block">Not implemented yet; throws UnsupportedOperationException.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#insertInto-int-java.lang.Object-">insertInto</a></span>(int&nbsp;sbdest,
          java.lang.Object&nbsp;bb)</code>
<div class="block">Inserts all of this string into a ByteBuilder (such class to be
 implemented).</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#insertInto-int-java.lang.StringBuilder-">insertInto</a></span>(int&nbsp;sbdest,
          java.lang.StringBuilder&nbsp;sb)</code>
<div class="block">Inserts all of this string into <code>sb</code>.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">tests</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#setText-java.lang.Object-">setText</a></span>(java.lang.Object&nbsp;text)</code>
<div class="block">Resets this grapheme string with <code>text</code> using default locale.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#setText-java.lang.Object-java.util.Locale-">setText</a></span>(java.lang.Object&nbsp;text,
       java.util.Locale&nbsp;locale)</code>
<div class="block">Resets this grapheme instance with <code>text</code> and specified <code>Locale</code>.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#toBytes--">toBytes</a></span>()</code>
<div class="block">Returns all of this string encoded as a UTF-8 byte[].</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>char[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#toChars--">toChars</a></span>()</code>
<div class="block">Returns all of this string encoded as a UTF-16 char[].</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#toDebugString--">toDebugString</a></span>()</code>
<div class="block">Returns a verbosely descriptive java.lang.String of this string.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../zen/lang/string.html#toString--">toString</a></span>()</code>
<div class="block">Returns this string converted into a <code>java.lang.String</code>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="string--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>string</h4>
<pre>public&nbsp;string()</pre>
<div class="block">Create an empty string.</div>
</li>
</ul>
<a name="string-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>string</h4>
<pre>public&nbsp;string(java.lang.Object&nbsp;text)</pre>
<div class="block">Initialize a new string using <code>text</code> and default locale.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../zen/lang/string.html#setText-java.lang.Object-"><code>setText(Object)</code></a></dd>
</dl>
</li>
</ul>
<a name="string-java.lang.Object-java.util.Locale-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>string</h4>
<pre>public&nbsp;string(java.lang.Object&nbsp;text,
              java.util.Locale&nbsp;locale)</pre>
<div class="block">Initialize a new string using <code>text</code> and <code>locale</code>.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../zen/lang/string.html#setText-java.lang.Object-java.util.Locale-"><code>setText(Object,Locale)</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="countUTF8Units--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countUTF8Units</h4>
<pre>public&nbsp;int&nbsp;countUTF8Units()</pre>
<div class="block">Count the number of Unicode UTF-8 code units required to UTF-8 encode this
 string.

 <p>This implementation operates in O(n) time.</div>
</li>
</ul>
<a name="countUTF16Units--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countUTF16Units</h4>
<pre>public&nbsp;int&nbsp;countUTF16Units()</pre>
<div class="block">Count the number of Unicode UTF-16 code units required to UTF-16 encode
 this string.

 <p>This implementation operates in O(1) time.</div>
</li>
</ul>
<a name="countCodePoints--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countCodePoints</h4>
<pre>public&nbsp;int&nbsp;countCodePoints()</pre>
<div class="block">Returns the number of unicode code points in this string.

 <p>This is the same as the number of Unicode UTF-32 code units required to
 UTF-32 encode this string.

 <p>This implementation operates in O(1) time.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The code point count.</dd>
</dl>
</li>
</ul>
<a name="countGraphemes-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countGraphemes</h4>
<pre>public&nbsp;int&nbsp;countGraphemes(int&nbsp;flags)</pre>
<div class="block">Returns the number of graphemes in this string;
 Not implemented yet; throws UnsupportedOperationException.

 <p>This implementation operates in O(?) time.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>flags</code> - Grapheme types to include in the count.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The grapheme count.</dd>
</dl>
</li>
</ul>
<a name="hasStartingBOM--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasStartingBOM</h4>
<pre>public&nbsp;boolean&nbsp;hasStartingBOM()</pre>
<div class="block">Returns true if this string starts with the Unicode "Byte Order Mark"
 character;
 Not implemented yet; throws UnsupportedOperationException.

 <p>This implementation operates in O(1) time.</div>
</li>
</ul>
<a name="hasBOM--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasBOM</h4>
<pre>public&nbsp;boolean&nbsp;hasBOM()</pre>
<div class="block">Returns true if this string contains one or more Unicode "Byte Order Mark"
 characters;
 Not implemented yet; throws UnsupportedOperationException.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../zen/lang/string.html#hasStartingBOM--"><code>hasStartingBOM()</code></a></dd>
</dl>
</li>
</ul>
<a name="setText-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setText</h4>
<pre>public&nbsp;void&nbsp;setText(java.lang.Object&nbsp;text)</pre>
<div class="block">Resets this grapheme string with <code>text</code> using default locale.</div>
</li>
</ul>
<a name="setText-java.lang.Object-java.util.Locale-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setText</h4>
<pre>public&nbsp;void&nbsp;setText(java.lang.Object&nbsp;text,
                    java.util.Locale&nbsp;locale)</pre>
<div class="block">Resets this grapheme instance with <code>text</code> and specified <code>Locale</code>.

 <p> Currently <code>text</code> may be a <code>java.lang.String</code> or <code>char[]</code>.</div>
</li>
</ul>
<a name="getCodePointUTF16Indices--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCodePointUTF16Indices</h4>
<pre>public&nbsp;int[]&nbsp;getCodePointUTF16Indices()</pre>
<div class="block">Returns the grapheme boundary cpcindices into the utf-16 char[] used
 internally; this array of indices is used internally.

 <p> Boundaries are calculated with BreakIterator.getCharacterInstance(Locale).
 There are length() + 1 cpcindices, where each index is the location in the
 utf-16 char[] of a grapheme boundary.</div>
</li>
</ul>
<a name="codePointToInt-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>codePointToInt</h4>
<pre>public&nbsp;int&nbsp;codePointToInt(int&nbsp;cpindex)</pre>
<div class="block">Returns the code point at <code>cpindex</code>.</div>
</li>
</ul>
<a name="codePointsToInts-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>codePointsToInts</h4>
<pre>public&nbsp;int[]&nbsp;codePointsToInts(int&nbsp;cpistart,
                              int&nbsp;cpiend)</pre>
<div class="block">Returns the code points in the range <code>(cpistart, cpiend)</code>.
 Not implemented yet; throws UnsupportedOperationException.
 In current implementation, easy to implement.</div>
</li>
</ul>
<a name="codePointsToInts--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>codePointsToInts</h4>
<pre>public&nbsp;int[]&nbsp;codePointsToInts()</pre>
<div class="block">Returns this string as code points in an int[].</div>
</li>
</ul>
<a name="codePointToChars-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>codePointToChars</h4>
<pre>public&nbsp;char[]&nbsp;codePointToChars(int&nbsp;cpindex)</pre>
<div class="block">Returns a UTF-16 encoded char[] of the code point at <code>cpindex</code>.

 <p>Code points are indexed from zero to <code>countCodePoints() - 1</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cpindex</code> - The code point index of the code point to return.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A char[] of the UTF-16 encoded code point at <code>cpindex</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IndexOutOfBoundsException</code> - if
    <code>index</code> is negative or greater than <code>this.length()</code> or
    <code>end</code> is less than -1 or greater than <code>this.length()</code>.</dd>
</dl>
</li>
</ul>
<a name="codePointsToChars-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>codePointsToChars</h4>
<pre>public&nbsp;char[]&nbsp;codePointsToChars(int&nbsp;cpistart,
                                int&nbsp;cpiend)</pre>
<div class="block">Returns a UTF-16 encoded char[] range (reversible) of code points.

 <p>Code points are indexed from zero to <code>countCodePoints() - 1</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cpistart</code> - The code point index inclusive of the first code point to
 return.
 Valid range is <code>(0, this.countCodePoints() - 1)</code>.</dd>
<dd><code>cpiend</code> - The code point index exclusive of the last code point to
 return.
 Valid range is <code>(-1, this.countCodePoints())</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A char[] of the UTF-16 encoded code points in the range requested.
 If <code>cpiend &lt; cpistart</code> then the code point sequence is reversed.
 If <code>cpistart == cpiend</code> then an empty char[] is returned.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IndexOutOfBoundsException</code> - if
    <code>cpistart &lt; 0</code> or <code>cpistart &gt;= length()</code> or
    <code>cpiend &lt; -1</code> or <code>cpiend &gt; length()</code>.</dd>
</dl>
</li>
</ul>
<a name="codePointsToBytes-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>codePointsToBytes</h4>
<pre>public&nbsp;byte[]&nbsp;codePointsToBytes(int&nbsp;cpindex)</pre>
<div class="block">Returns a byte[] containing the chosen code point encoded as UTF-8.
 Not implemented yet; throws UnsupportedOperationException.

 <p>Code points are indexed from zero to <code>countCodePoints() - 1</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cpindex</code> - The code point index of the code point to return.</dd>
</dl>
</li>
</ul>
<a name="codePointsToBytes-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>codePointsToBytes</h4>
<pre>public&nbsp;byte[]&nbsp;codePointsToBytes(int&nbsp;cpistart,
                                int&nbsp;cpiend)</pre>
<div class="block">Returns a byte[] containing the chosen code points encoded as UTF-8.
 Not implemented yet; throws UnsupportedOperationException.

 <p>Code points are indexed from zero to <code>countCodePoints() - 1</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cpistart</code> - The first code point index inclusive of the range of code
 points to return.</dd>
<dd><code>cpiend</code> - The last code point index exclusive of the range of code
 points to return.</dd>
</dl>
</li>
</ul>
<a name="graphemesToChars-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>graphemesToChars</h4>
<pre>public&nbsp;char[]&nbsp;graphemesToChars(int&nbsp;flags,
                               int&nbsp;gindex)</pre>
<div class="block">Returns a char[] containing the chosen grapheme encoded as UTF-16.
 Not implemented yet; throws UnsupportedOperationException.

 <p>Graphemes are indexed from zero to <code>countGraphemes(flags) - 1</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>gindex</code> - The grapheme index of the grapheme to return.</dd>
</dl>
</li>
</ul>
<a name="graphemesToChars-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>graphemesToChars</h4>
<pre>public&nbsp;char[]&nbsp;graphemesToChars(int&nbsp;flags,
                               int&nbsp;gistart,
                               int&nbsp;giend)</pre>
<div class="block">Not implemented yet; throws UnsupportedOperationException.</div>
</li>
</ul>
<a name="graphemesToBytes-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>graphemesToBytes</h4>
<pre>public&nbsp;byte[]&nbsp;graphemesToBytes(int&nbsp;flags,
                               int&nbsp;gindex)</pre>
<div class="block">Not implemented yet; throws UnsupportedOperationException.</div>
</li>
</ul>
<a name="graphemesToBytes-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>graphemesToBytes</h4>
<pre>public&nbsp;byte[]&nbsp;graphemesToBytes(int&nbsp;flags,
                               int&nbsp;gistart,
                               int&nbsp;giend)</pre>
<div class="block">Not implemented yet; throws UnsupportedOperationException.</div>
</li>
</ul>
<a name="toBytes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toBytes</h4>
<pre>public&nbsp;byte[]&nbsp;toBytes()</pre>
<div class="block">Returns all of this string encoded as a UTF-8 byte[].</div>
</li>
</ul>
<a name="toChars--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toChars</h4>
<pre>public&nbsp;char[]&nbsp;toChars()</pre>
<div class="block">Returns all of this string encoded as a UTF-16 char[].</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The char[] used internally, stored when setText was called.</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Returns this string converted into a <code>java.lang.String</code>.
 For dignity this method ought be named toJavaString, but Object.toString
 is a little engrained in the Java world...
 Needs correctness tuning as this class is enhanced.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="appendTo-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendTo</h4>
<pre>public&nbsp;void&nbsp;appendTo(java.lang.Object&nbsp;bb)</pre>
<div class="block">Appends all of this string to a ByteBuilder (such class does not yet
 exist).
 Not implemented yet; throws UnsupportedOperationException.</div>
</li>
</ul>
<a name="insertInto-int-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertInto</h4>
<pre>public&nbsp;void&nbsp;insertInto(int&nbsp;sbdest,
                       java.lang.Object&nbsp;bb)</pre>
<div class="block">Inserts all of this string into a ByteBuilder (such class to be
 implemented).
 Not implemented yet; throws UnsupportedOperationException.</div>
</li>
</ul>
<a name="appendTo-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendTo</h4>
<pre>public&nbsp;void&nbsp;appendTo(java.lang.StringBuilder&nbsp;sb)</pre>
<div class="block">Appends all of this string to a StringBuilder.</div>
</li>
</ul>
<a name="insertInto-int-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertInto</h4>
<pre>public&nbsp;void&nbsp;insertInto(int&nbsp;sbdest,
                       java.lang.StringBuilder&nbsp;sb)</pre>
<div class="block">Inserts all of this string into <code>sb</code>.</div>
</li>
</ul>
<a name="appendGraphemesTo-int-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendGraphemesTo</h4>
<pre>public&nbsp;void&nbsp;appendGraphemesTo(int&nbsp;flags,
                              java.lang.StringBuilder&nbsp;sb)</pre>
<div class="block">Append all graphemes to <code>sb</code>.
 Needs correctness tuning, currently ignores flags.

 <p>In general, minimize the number of overloaded/ similar methods.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>flags</code> - Working with graphemes needs flags, such as whether to
 include various space types (non-breaking, zero-width, etc), tabs, various
 newlines, sentence and paragraph ending characters and more.</dd>
</dl>
</li>
</ul>
<a name="insertGraphemesInto-int-int-java.lang.StringBuilder-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertGraphemesInto</h4>
<pre>public&nbsp;void&nbsp;insertGraphemesInto(int&nbsp;flags,
                                int&nbsp;sbdest,
                                java.lang.StringBuilder&nbsp;sb)</pre>
<div class="block">Insert graphemes into sb.
 Needs correctness tuning, currently ignores flags.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>flags</code> - Working with graphemes needs flags, such as whether to
 include various space types (non-breaking, zero-width, etc), tabs, various
 newlines, sentence and paragraph ending characters and more.</dd>
</dl>
</li>
</ul>
<a name="appendGraphemesTo-int-java.lang.StringBuilder-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendGraphemesTo</h4>
<pre>public&nbsp;void&nbsp;appendGraphemesTo(int&nbsp;flags,
                              java.lang.StringBuilder&nbsp;sb,
                              int&nbsp;gistart,
                              int&nbsp;giend)</pre>
<div class="block">Not implemented yet; throws UnsupportedOperationException.</div>
</li>
</ul>
<a name="insertGraphemesInto-int-int-java.lang.StringBuilder-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertGraphemesInto</h4>
<pre>public&nbsp;void&nbsp;insertGraphemesInto(int&nbsp;flags,
                                int&nbsp;sbdest,
                                java.lang.StringBuilder&nbsp;sb,
                                int&nbsp;gistart,
                                int&nbsp;giend)</pre>
<div class="block">Not implemented yet; throws UnsupportedOperationException.</div>
</li>
</ul>
<a name="appendCodePointsTo-java.lang.StringBuilder-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendCodePointsTo</h4>
<pre>public&nbsp;void&nbsp;appendCodePointsTo(java.lang.StringBuilder&nbsp;sb,
                               int&nbsp;cpistart,
                               int&nbsp;cpiend)</pre>
<div class="block">Append code points in the range <code>(cpistart, cpiend)</code> into <code>sb</code>;  <code>cpistart</code> may be less than <code>cpiend</code> in which case the
 code points are appended in reverse order.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cpistart</code> - The first code point (index inclusive) to append to sb.
 Valid range is from 0 to (this.countCodePoints() - 1).</dd>
<dd><code>cpiend</code> - The last code point (index, exclusive) to append to sb.
 Valid range is from -1 to this.countCodePoints().
 If cpend is less than cpstart, code points are appended in reverse order.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IndexOutOfBoundsException</code> - if cpstart or cpend are out of valid
 range.</dd>
</dl>
</li>
</ul>
<a name="insertCodePointsInto-int-java.lang.StringBuilder-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertCodePointsInto</h4>
<pre>public&nbsp;void&nbsp;insertCodePointsInto(int&nbsp;sbdest,
                                 java.lang.StringBuilder&nbsp;sb,
                                 int&nbsp;cpistart,
                                 int&nbsp;cpiend)</pre>
<div class="block">Inserts a range (reversible) of code points into a StringBuilder.

 <p>Code points are indexed from zero to <code>countCodePoints() - 1</code>.

 <p>If <code>cpiend &lt; cpistart</code> then the code point sequence is reversed.

 <p>This method might be one or two too many - perhaps better to simplify
 (reduce) the API rather than eek out only a little extra performance and
 only for the measley StringBuilder class - what we need to start chugging
 with is ByteBuffer!</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sbdest</code> - Destination in <code>sb</code> in which to insert the chosen code
 points (as UTF-16 chars).</dd>
<dd><code>cpistart</code> - The code point index inclusive of the first code point to
 insert into sb.
 Valid range is <code>(0, this.countCodePoints() - 1)</code>.</dd>
<dd><code>cpiend</code> - The code point index exclusive of the last code point to
 insert into sb.
 Valid range is <code>(-1, this.countCodePoints())</code>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IndexOutOfBoundsException</code> - if
    <code>cpistart &lt; 0</code> or <code>cpistart &gt;= length()</code> or
    <code>cpiend &lt; -1</code> or <code>cpiend &gt; length()</code> or
    <code>sbdest</code> is not a valid location in <code>sb</code>.</dd>
</dl>
</li>
</ul>
<a name="toDebugString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toDebugString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toDebugString()</pre>
<div class="block">Returns a verbosely descriptive java.lang.String of this string.</div>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
<div class="block">tests</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../zen/lang/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../index.html?zen/lang/string.html" target="_top">Frames</a></li>
<li><a href="string.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
